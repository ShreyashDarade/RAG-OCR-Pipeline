# ============================================
# RAG-OCR Pipeline Environment Configuration
# ============================================
# Copy this file to .env and update values

# =========================
# Application Settings
# =========================
APP_NAME=OCR-rag
ENVIRONMENT=local
DATA_DIR=./data

# =========================
# Elasticsearch Configuration
# =========================
ES_HOST=http://localhost:9200
ES_USERNAME=
ES_PASSWORD=
ES_INDEX_TEXT=doc-text
ES_INDEX_TABLES=doc-tables
ES_INDEX_IMAGES=doc-images

# =========================
# OpenAI Configuration (REQUIRED)
# =========================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# LLM Model for Q&A
OPENAI_MODEL=gpt-4o-mini

# Embedding Model (text-embedding-3-small is cost-effective)
# Options: text-embedding-3-small, text-embedding-3-large, text-embedding-ada-002
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# For Azure OpenAI, uncomment and set:
# OPENAI_BASE_URL=https://your-resource.openai.azure.com/

# =========================
# Chunking Settings
# =========================
CHUNK_SIZE=800
CHUNK_OVERLAP=200
KEYWORD_TOP_K=20
MIN_CHUNK_SIZE=100

# =========================
# Retrieval Settings
# =========================
RETRIEVER_TOP_K=10
RETRIEVER_BM25_K1=1.5
RETRIEVER_BM25_B=0.75
HYBRID_ALPHA=0.5
RERANK_ENABLED=true
RERANK_TOP_K=6

# =========================
# Document Linkage
# =========================
# Enable cross-references between text, tables, and images
ENABLE_CROSS_REFERENCES=true
# Include adjacent pages in context (0 = only same page)
PAGE_CONTEXT_WINDOW=1

# =========================
# Rate Limiting
# =========================
RATE_LIMIT_PER_MINUTE=100

# =========================
# Caching Configuration
# =========================
CACHE_TTL_SECONDS=3600
REDIS_URL=redis://localhost:6379
USE_REDIS_CACHE=false

# =========================
# Workers & Concurrency
# =========================
MAX_WORKERS=4
REQUEST_TIMEOUT_SECONDS=120

# =========================
# OCR Settings
# =========================
# Set to false to disable GPU even if available
OCR_GPU_ENABLED=true
OCR_BATCH_SIZE=5

# Supported languages: en (English), mr (Marathi), hi (Hindi)
# SUPPORTED_OCR_LANGUAGES=["en", "mr", "hi"]
